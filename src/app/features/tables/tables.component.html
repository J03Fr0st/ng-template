<!-- htmlhint doctype-first:false -->
<app-card>
  <div class="flex flex-col sm:flex-row justify-between items-center gap-4 mb-4">
    <h2 class="card-title">Users Table</h2>
    <div class="form-control w-full sm:w-auto">
      <input type="text" placeholder="Search..." class="input input-bordered w-full max-w-xs" [(ngModel)]="searchTerm" />
    </div>
  </div>

  <div class="overflow-x-auto">
    <table class="table table-zebra">
      <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Job</th>
          <th>Status</th>
          <th>Last Login</th>
        </tr>
      </thead>
      <tbody>
        @for (row of filteredData(); track row.id) {
          <tr>
            <th>{{ row.id }}</th>
            <td>
              <div class="flex items-center gap-3">
                <div class="avatar">
                  <div class="mask mask-squircle w-12 h-12">
                    <img [src]="'https://ui-avatars.com/api/?name=' + row.name + '&background=random'" alt="Avatar" />
                  </div>
                </div>
                <div>
                  <div class="font-bold">{{ row.name }}</div>
                  <div class="text-sm opacity-50">{{ row.email }}</div>
                </div>
              </div>
            </td>
            <td>
              {{ row.role }}
              <br />
              <span class="badge badge-ghost badge-sm">Desktop Support Technician</span>
            </td>
            <td>
              <div
                class="badge"
                [class.badge-success]="row.status === 'Active'"
                [class.badge-warning]="row.status === 'Pending'"
                [class.badge-ghost]="row.status === 'Inactive'">
                {{ row.status }}
              </div>
            </td>
            <td>{{ row.lastLogin }}</td>
          </tr>
        } @empty {
          <tr>
            <td colspan="5" class="text-center py-4">No data found</td>
          </tr>
        }
      </tbody>
    </table>
  </div>
</app-card>

